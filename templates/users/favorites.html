{% extends 'base.html' %}

{% block title %}{{ user.first_name }}{{ user.last_name }}{% endblock %}}

{% block content %}
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../../static/css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/style.css">
</head>
    {% if 'username' in session %}
    <h3>{{ user.username }}'s home page</h3>

    <form action="{{ url_for('homepage') }}">
        <button class="btn btn-primary mb-2" >Search recipes by ingredients!</button>
    </form>
    <hr>
    <form action="{{ url_for('show_favorites', username=user.username) }}">
    <button class="btn btn-primary mb-2" >Show your favorite recipes!</button>
    <div class="container-fluid">
        <div class="row-fluid">
          <div class="col-md-2">
            <h2>Recipe Matches:</h2>
          </div>
          <div class="col-md-8">
            <h2>Recipe ingredients</h2>
          </div>
          <div class="col-md-2">
            <h2>Recipe instructions</h2>
          </div>
        </div>
      </div>
    </form>
    <div class="container-fluid">
        <div class="row-fluid" id="favorite-grid">
            {% for key, value in fav_dict.items() %}
                {% for recipe in value %}
                    <div class="row">
                        <div class="col-md-3 text-align" id="{{ recipe.name }}"><h3>{{ recipe.name }}</h3><br>
                        <img class="visible-lg" src="{{ recipe.img }}" alt="{{ recipe.img }}" width="200" height="200" />
                        <img class="visible-md" src="{{ recipe.img }}" alt="{{ recipe.img }}" width="150" height="150" />
                        <img class="visible-sm" src="{{ recipe.img }}" alt="{{ recipe.img }}" width="100" height="100" />
                        <img class="visible-xs" src="{{ recipe.img }}" alt="{{ recipe.img }}" width="100" height="100" /><br>
                            <a href="/delete/{{ recipe.recipe_id }}" method="post" class="btn btn-danger mb-2">Delete Favorite.</a>
                        </div>
                        <div class="col-md-7 text-align" id="ingredients_{{ recipe.name }}"><h2>Ingredients</h2><hr><h5>{{ recipe.ingredients|join(' ') }}</h5>    
                        </div>
                        <div class="col-md-2 text-align" id="instructions_{{ recipe.name }}">
                        <a href="{{ recipe.url }}">View cooking instructions for {{ recipe.name }}!</a><br>  
                        </div>
                    </div><br><hr>
                {% endfor %}
            {% endfor %}
        </div>
    </div>


    {% endif %}

{% endblock %}
